<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>moh-common-lib</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/stripe.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">moh-common-lib</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>FileUploaderComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#readme" role="tab" id="readme-tab" data-toggle="tab" data-link="readme">Design Guidelines</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>projects/common/lib/components/file-uploader/file-uploader.component.ts</code>
</p>


    <p class="comment">
        <h3>Extends</h3>
    </p>
    <p class="comment">
                <code><a href="../classes/Base.html" target="_self" >Base</a></code>
    </p>

    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
                    <code><a href="https://angular.io/api/core/OnChanges" target="_blank" >OnChanges</a></code>
                    <code><a href="https://angular.io/api/core/AfterContentInit" target="_blank" >AfterContentInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>common-file-uploader</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./file-uploader.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./file-uploader.component.html</code></td>
            </tr>

            <tr>
                <td class="col-md-3">viewProviders</td>
                <td class="col-md-9">
                    <code>
                                <code><a href="../classes/Container.html" target="_self" >{ provide: ControlContainer, useExisting: forwardRef(() &#x3D;&gt; NgForm) }</a></code>
                    </code>
                </td>
            </tr>







        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#appConstants">appConstants</a>
                            </li>
                            <li>
                                <a href="#browseFileRef">browseFileRef</a>
                            </li>
                            <li>
                                <a href="#canvas">canvas</a>
                            </li>
                            <li>
                                <a href="#dropZone">dropZone</a>
                            </li>
                            <li>
                                <a href="#imagePlaceholderRef">imagePlaceholderRef</a>
                            </li>
                            <li>
                                <a href="#noIdImage">noIdImage</a>
                            </li>
                            <li>
                                <a href="#selectFileLabelRef">selectFileLabelRef</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#objectId">objectId</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#checkImageDimensions">checkImageDimensions</a>
                            </li>
                            <li>
                                    <span class="modifier">Static</span>
                                <a href="#checkImageExists">checkImageExists</a>
                            </li>
                            <li>
                                <a href="#deleteImage">deleteImage</a>
                            </li>
                            <li>
                                <a href="#forceRender">forceRender</a>
                            </li>
                            <li>
                                <a href="#handleError">handleError</a>
                            </li>
                            <li>
                                <a href="#handleImageFile">handleImageFile</a>
                            </li>
                            <li>
                                <a href="#isValid">isValid</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#logImageInfo">logImageInfo</a>
                            </li>
                            <li>
                                <a href="#makeGrayScale">makeGrayScale</a>
                            </li>
                            <li>
                                <a href="#ngAfterContentInit">ngAfterContentInit</a>
                            </li>
                            <li>
                                <a href="#ngOnChanges">ngOnChanges</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#observableFromFiles">observableFromFiles</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#readImage">readImage</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#readPDF">readPDF</a>
                            </li>
                            <li>
                                <a href="#resetInputFields">resetInputFields</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#resizeImage">resizeImage</a>
                            </li>
                            <li>
                                <a href="#retryStrategy">retryStrategy</a>
                            </li>
                            <li>
                                <a href="#test">test</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#errorMessages">errorMessages</a>
                            </li>
                            <li>
                                <a href="#id">id</a>
                            </li>
                            <li>
                                <a href="#images">images</a>
                            </li>
                            <li>
                                <a href="#instructionText">instructionText</a>
                            </li>
                            <li>
                                <a href="#required">required</a>
                            </li>
                            <li>
                                <a href="#showError">showError</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Outputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#errorDocument">errorDocument</a>
                            </li>
                            <li>
                                <a href="#imagesChange">imagesChange</a>
                            </li>
                        </ul>
                    </td>
                </tr>



                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#fileControl">fileControl</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(zone: <a href="https://angular.io/api/core/NgZone" target="_blank">NgZone</a>, cd: <a href="https://angular.io/api/core/ChangeDetectorRef" target="_blank">ChangeDetectorRef</a>, router: <a href="https://angular.io/api/router/Router" target="_blank">Router</a>, controlContainer: <a href="../classes/Container.html">ControlContainer</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:68</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>zone</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/core/NgZone" target="_blank" >NgZone</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>cd</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/core/ChangeDetectorRef" target="_blank" >ChangeDetectorRef</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/Router" target="_blank" >Router</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>controlContainer</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/Container.html" target="_self" >ControlContainer</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="errorMessages"></a>
                        <b>errorMessages</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/FileUploaderMsg.html" target="_self" >FileUploaderMsg</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{required: &#x27;File is required.&#x27;}</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:63</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="id"></a>
                        <b>id</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="59" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:59</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="images"></a>
                        <b>images</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/CommonImage.html" target="_self" >Array&lt;CommonImage&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Array&lt;CommonImage&gt;(0)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="57" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:57</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="instructionText"></a>
                        <b>instructionText</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;Please upload required ID documents.&#x27;</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="62" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:62</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="required"></a>
                        <b>required</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="61" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:61</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="showError"></a>
                        <b>showError</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="60" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:60</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>
    <section>
    <h3 id="outputs">Outputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="errorDocument"></a>
                        <b>errorDocument</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/CommonImage.html" target="_self" >EventEmitter&lt;CommonImage&gt;</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:68</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="imagesChange"></a>
                        <b>imagesChange</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/CommonImage.html" target="_self" >EventEmitter&lt;Array&lt;CommonImage&gt;&gt;</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="58" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:58</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>


    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkImageDimensions"></a>
                    <span class="name">
                        <b>
                            checkImageDimensions
                        </b>
                        <a href="#checkImageDimensions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>checkImageDimensions(file: <a href="../classes/CommonImage.html">CommonImage</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="789"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:789</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Return true if the image size is within range</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>file</td>
                                    <td>
                                                <code><a href="../classes/CommonImage.html" target="_self" >CommonImage</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkImageExists"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Static</span>
                            checkImageExists
                        </b>
                        <a href="#checkImageExists"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkImageExists(file: <a href="../classes/CommonImage.html">CommonImage</a>, imageList: <a href="../classes/CommonImage.html">Array<CommonImage></a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="96"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:96</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Return true if file already exists in the list; false otherwise.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>file</td>
                                    <td>
                                                <code><a href="../classes/CommonImage.html" target="_self" >CommonImage</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>imageList</td>
                                    <td>
                                                <code><a href="../classes/CommonImage.html" target="_self" >Array&lt;CommonImage&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteImage"></a>
                    <span class="name">
                        <b>
                            deleteImage
                        </b>
                        <a href="#deleteImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>deleteImage(mspImage: <a href="../classes/CommonImage.html">CommonImage</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="734"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:734</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>mspImage</td>
                                    <td>
                                                <code><a href="../classes/CommonImage.html" target="_self" >CommonImage</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="forceRender"></a>
                    <span class="name">
                        <b>
                            forceRender
                        </b>
                        <a href="#forceRender"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>forceRender()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="118"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:118</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>A special method to force the rendering of this component.  This is a workaround
because for some unknown reason, AngularJS2 change detector does not detect the
change of the images Array.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleError"></a>
                    <span class="name">
                        <b>
                            handleError
                        </b>
                        <a href="#handleError"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>handleError(error: <a href="../classes/CommonImage.html">CommonImageError</a>, mspImage: <a href="../classes/CommonImage.html">CommonImage</a>, errorDescription?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="704"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:704</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>error</td>
                                    <td>
                                                <code><a href="../classes/CommonImage.html" target="_self" >CommonImageError</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>mspImage</td>
                                    <td>
                                                <code><a href="../classes/CommonImage.html" target="_self" >CommonImage</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>errorDescription</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleImageFile"></a>
                    <span class="name">
                        <b>
                            handleImageFile
                        </b>
                        <a href="#handleImageFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>handleImageFile(mspImage: <a href="../classes/CommonImage.html">CommonImage</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="685"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:685</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>mspImage</td>
                                    <td>
                                                <code><a href="../classes/CommonImage.html" target="_self" >CommonImage</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isValid"></a>
                    <span class="name">
                        <b>
                            isValid
                        </b>
                        <a href="#isValid"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isValid()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="797"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:797</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logImageInfo"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            logImageInfo
                        </b>
                        <a href="#logImageInfo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>logImageInfo(title: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, applicationId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, mspImage: <a href="../classes/CommonImage.html">CommonImage</a>, additionalInfo?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="751"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:751</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Log image attributes</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>title</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>applicationId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>mspImage</td>
                                    <td>
                                                <code><a href="../classes/CommonImage.html" target="_self" >CommonImage</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>additionalInfo</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makeGrayScale"></a>
                    <span class="name">
                        <b>
                            makeGrayScale
                        </b>
                        <a href="#makeGrayScale"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>makeGrayScale(canvas: HTMLCanvasElement)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="664"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:664</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Non reversible image filter to take an existing canvas and make it gray scale</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>canvas</td>
                                    <td>
                                            <code>HTMLCanvasElement</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngAfterContentInit"></a>
                    <span class="name">
                        <b>
                            ngAfterContentInit
                        </b>
                        <a href="#ngAfterContentInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngAfterContentInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="291"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:291</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnChanges"></a>
                    <span class="name">
                        <b>
                            ngOnChanges
                        </b>
                        <a href="#ngOnChanges"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnChanges(changes: <a href="https://angular.io/api/core/SimpleChanges" target="_blank">SimpleChanges</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="124"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:124</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>changes</td>
                                    <td>
                                                <code><a href="https://angular.io/api/core/SimpleChanges" target="_blank" >SimpleChanges</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="167"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:167</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="observableFromFiles"></a>
                    <span class="name">
                        <b>
                            observableFromFiles
                        </b>
                        <a href="#observableFromFiles"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>observableFromFiles(fileList: FileList, scaleFactors: <a href="../interfaces/CommonImageScaleFactors.html">CommonImageScaleFactors</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="327"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:327</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Solve size in this equation: size * 0.8to-the-power-of30 &lt; 1MB, size
will be the max image size this application can accept and scale down
to under 1MB. In this case: size &lt; 807 MB</p>
<p>30 is the number of retries. the value for maxRetry passed to retryStrategy
function.</p>
<p>If: size * 0.8to-the-power-of40 &lt; 1MB, then size &lt; 1262 MB.</p>
<p>Note: 0.8 is the self.appConstants.images.reductionScaleFactor defined in global.js</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>fileList</td>
                                    <td>
                                            <code>FileList</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>scaleFactors</td>
                                    <td>
                                                <code><a href="../interfaces/CommonImageScaleFactors.html" target="_self" >CommonImageScaleFactors</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="readImage"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            readImage
                        </b>
                        <a href="#readImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>readImage(imageFile: File, nextPageNumber: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, callback: (image: HTMLImageElement,imageFile: File,nextPageNumber: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>) => void, invalidImageHanlder: (error: <a href="../classes/CommonImageProcessingError.html">CommonImageProcessingError</a>) => void)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="565"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:565</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>imageFile</td>
                                    <td>
                                            <code>File</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>nextPageNumber</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>callback</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>invalidImageHanlder</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="readPDF"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            readPDF
                        </b>
                        <a href="#readPDF"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>readPDF(pdfFile: File, pdfScaleFactor: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, callback: (image: HTMLImageElement[],pdfFile: File) => void, error: (errorReason: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>) => void)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="602"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:602</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>pdfFile</td>
                                    <td>
                                            <code>File</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>pdfScaleFactor</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>callback</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>error</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetInputFields"></a>
                    <span class="name">
                        <b>
                            resetInputFields
                        </b>
                        <a href="#resetInputFields"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resetInputFields()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="727"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:727</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Reset input fields so that user can delete a file and
immediately upload that file again.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resizeImage"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            resizeImage
                        </b>
                        <a href="#resizeImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>resizeImage(image: HTMLImageElement, self, scaleFactors: <a href="../interfaces/CommonImageScaleFactors.html">CommonImageScaleFactors</a>, observer: <a href="../classes/CommonImage.html">Observer<CommonImage></a>, pageNumber: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, isPdf: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="406"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:406</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>image</td>
                                    <td>
                                            <code>HTMLImageElement</code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>self</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>scaleFactors</td>
                                    <td>
                                                <code><a href="../interfaces/CommonImageScaleFactors.html" target="_self" >CommonImageScaleFactors</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>observer</td>
                                    <td>
                                                <code><a href="../classes/CommonImage.html" target="_self" >Observer&lt;CommonImage&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>pageNumber</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>0</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>isPdf</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>false</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="retryStrategy"></a>
                    <span class="name">
                        <b>
                            retryStrategy
                        </b>
                        <a href="#retryStrategy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>retryStrategy(maxRetry: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="518"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:518</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Max retry scaling down for maxRetry times.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>maxRetry</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>(errors: any) &#x3D;&gt; any</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="test"></a>
                    <span class="name">
                        <b>
                            test
                        </b>
                        <a href="#test"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>test(var1)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="287"
                            class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:287</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>var1</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="appConstants"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            appConstants</b>
                            <a href="#appConstants"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="49" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:49</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="browseFileRef"></a>
                        <span class="name">
                            <b>
                            browseFileRef</b>
                            <a href="#browseFileRef"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/core/ElementRef" target="_blank" >ElementRef</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ViewChild(&#x27;browseFileRef&#x27;)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:51</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="canvas"></a>
                        <span class="name">
                            <b>
                            canvas</b>
                            <a href="#canvas"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/core/ElementRef" target="_blank" >ElementRef</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ViewChild(&#x27;canvas&#x27;)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="65" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:65</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="dropZone"></a>
                        <span class="name">
                            <b>
                            dropZone</b>
                            <a href="#dropZone"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/core/ElementRef" target="_blank" >ElementRef</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ViewChild(&#x27;dropZone&#x27;)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="50" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:50</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="imagePlaceholderRef"></a>
                        <span class="name">
                            <b>
                            imagePlaceholderRef</b>
                            <a href="#imagePlaceholderRef"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/core/ElementRef" target="_blank" >ElementRef</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ViewChild(&#x27;imagePlaceholderRef&#x27;)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="53" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:53</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="noIdImage"></a>
                        <span class="name">
                            <b>
                            noIdImage</b>
                            <a href="#noIdImage"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank" >Boolean</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:48</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="selectFileLabelRef"></a>
                        <span class="name">
                            <b>
                            selectFileLabelRef</b>
                            <a href="#selectFileLabelRef"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/core/ElementRef" target="_blank" >ElementRef</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ViewChild(&#x27;selectFileLabel&#x27;)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="54" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:54</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="objectId"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            objectId</b>
                            <a href="#objectId"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>UUID.UUID().toString()</code>
                        </td>
                    </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Inherited from         <code><a href="../classes/Base.html" target="_self" >Base</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in         <code><a href="../classes/Base.html#source" target="_self" >Base:11</a></code>
</div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>An identifier for parents to keep track of components </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

    <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="fileControl"></a>
                        <span class="name"><b>fileControl</b><a href="#fileControl"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>fileControl()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="86" class="link-to-prism">projects/common/lib/components/file-uploader/file-uploader.component.ts:86</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>This is created as a workaround to access the form control that binds to
the input[type=&#39;file&#39;]. We can&#39;t access it via the template name bindings
as that isn&#39;t working, so instead we access the parent form and then find
the input by name.</p>
</div>

                        </td>
                    </tr>

            </tbody>
        </table>
</section>
</div>

    <div class="tab-pane fade " id="c-readme">
        <p><h1 id="design-guidelines">Design Guidelines</h1>
<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente, magnam ipsam. Sit quasi natus architecto rerum unde non provident! Quia nisi facere amet iste mollitia voluptatem non molestias esse optio?</p>
<p>Aperiam fugiat consectetur temporibus, iste repellat, quisquam sapiente nisi distinctio optio, autem nemo tenetur error eum voluptatibus ab accusamus quis voluptatum blanditiis. Quam et ut reprehenderit vitae nobis, at ipsum!</p>
<p>Exercitationem pariatur animi repudiandae corporis obcaecati ratione ducimus beatae quam, nostrum magnam unde numquam quidem cupiditate odit id. Beatae alias molestiae, optio incidunt harum quia voluptates deserunt sequi. Nesciunt, optio.</p>
</p>
    </div>

    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { AfterContentInit, ChangeDetectorRef, Component,
    ContentChild, ElementRef, EventEmitter, Input, NgZone, OnChanges,
    OnInit, Output, SimpleChanges, ViewChild, forwardRef, AfterViewInit } from &#x27;@angular/core&#x27;;
import { NgForm, ControlContainer } from &#x27;@angular/forms&#x27;;
import * as moment from &#x27;moment&#x27;;
import { ModalDirective} from &#x27;ngx-bootstrap&#x27;;
import { PDFJSStatic } from &#x27;pdfjs-dist&#x27;;
import { Observable ,  Observer, fromEvent, merge } from &#x27;rxjs&#x27;;
import {map, filter, flatMap, scan, delay, retryWhen} from &#x27;rxjs/operators&#x27;;
import { CommonImage, CommonImageError, CommonImageProcessingError,
CommonImageScaleFactors, CommonImageScaleFactorsImpl } from &#x27;../../models/images.model&#x27;;
// import { MspLogService } from &#x27;../../service/log.service&#x27;;
// import { MspDataService } from &#x27;../../service/msp-data.service&#x27;;
// import { BaseComponent } from &#x27;../base.component&#x27;;
// import { LogEntry } from &#x27;../logging/log-entry.model&#x27;;
// import {Person} from &#x27;../../model/application.model&#x27;;
import {Router} from &#x27;@angular/router&#x27;;
import { Base } from &#x27;../../models/base&#x27;;
// import {ApplicationBase} from &#x27;../../model/application-base.model&#x27;;

// const loadImage &#x3D; require(&#x27;blueimp-load-image&#x27;);
// const sha1 &#x3D; require(&#x27;sha1&#x27;);

import * as loadImage_ from &#x27;blueimp-load-image&#x27;;
const loadImage &#x3D; loadImage_;
import * as sha1_ from &#x27;sha1&#x27;;
const sha1 &#x3D; sha1_;

// const PDFJS: PDFJSStatic &#x3D; require(&#x27;pdfjs-dist&#x27;);
import * as PDFJS_ from &#x27;pdfjs-dist&#x27;;
const PDFJS: PDFJSStatic &#x3D; (PDFJS_ as any);

export interface FileUploaderMsg {
    required: string;
}

// TODO - Remove this and fix tslint issues
/* tslint:disable:max-line-length*/

@Component({
    selector: &#x27;common-file-uploader&#x27;,
    templateUrl: &#x27;./file-uploader.component.html&#x27;,
    styleUrls: [&#x27;./file-uploader.component.scss&#x27;],
    viewProviders: [ { provide: ControlContainer, useExisting: forwardRef(() &#x3D;&gt; NgForm ) } ]
})
export class FileUploaderComponent extends Base
    implements OnInit, OnChanges, AfterContentInit {
    noIdImage: Boolean &#x3D; false;
    private appConstants;
    @ViewChild(&#x27;dropZone&#x27;) dropZone: ElementRef;
    @ViewChild(&#x27;browseFileRef&#x27;) browseFileRef: ElementRef;
    // @ViewChild(&#x27;captureFileRef&#x27;) captureFileRef: ElementRef;
    @ViewChild(&#x27;imagePlaceholderRef&#x27;) imagePlaceholderRef: ElementRef;
    @ViewChild(&#x27;selectFileLabel&#x27;) selectFileLabelRef: ElementRef;

    // @ContentChild(&#x27;uploadInstruction&#x27;) uploadInstructionRef: ElementRef;
    @Input() images: Array&lt;CommonImage&gt; &#x3D; new Array&lt;CommonImage&gt;(0);
    @Output() imagesChange: EventEmitter&lt;Array&lt;CommonImage&gt;&gt; &#x3D; new EventEmitter&lt;Array&lt;CommonImage&gt;&gt;();
    @Input() id: string;
    @Input() showError: boolean;
    @Input() required: boolean &#x3D; false;
    @Input() instructionText: string &#x3D; &#x27;Please upload required ID documents.&#x27;;
    @Input() errorMessages: FileUploaderMsg &#x3D; {required: &#x27;File is required.&#x27;};

    @ViewChild(&#x27;canvas&#x27;) canvas: ElementRef;


    @Output() errorDocument: EventEmitter&lt;CommonImage&gt; &#x3D; new EventEmitter&lt;CommonImage&gt;();

    constructor(
                // private dataService: MspDataService,
                // private logService: MspLogService,
                private zone: NgZone,
                private cd: ChangeDetectorRef , private router: Router,
                private controlContainer: ControlContainer) {
        super();
        // this.application &#x3D; this.getApplicationType();
    }

    /**
     * This is created as a workaround to access the form control that binds to
     * the input[type&#x3D;&#x27;file&#x27;]. We can&#x27;t access it via the template name bindings
     * as that isn&#x27;t working, so instead we access the parent form and then find
     * the input by name.
     */
    get fileControl() {
        const INPUT_NAME &#x3D; &#x60;fileUploadBrowse-${this.id}&#x60;;
        // note - should be &quot;this.controlContainer as NgForm&quot; here, which works,
        // but fails on compiliation due to secondary entries
        return (this.controlContainer as any).controls[INPUT_NAME];
    }

    /**
     * Return true if file already exists in the list; false otherwise.
     */
    static checkImageExists(file: CommonImage, imageList: Array&lt;CommonImage&gt;) {
        if (!imageList || imageList.length &lt; 1) {
            return false;
        } else {

            const sha1Sum &#x3D; sha1(file.fileContent);
            for (let i &#x3D; imageList.length - 1; i &gt;&#x3D; 0; i--) {
                // console.log(&#x60;compare  ${imageList[i].id} with ${sha1Sum}, result ${imageList[i].id &#x3D;&#x3D;&#x3D; sha1Sum}&#x60;);
                if (imageList[i].id &#x3D;&#x3D;&#x3D; sha1Sum) {
                    console.log(&#x60;This file ${file.name} has already been uploaded.&#x60;);
                    return true;
                }
            }
            return false;
        }
    }

    /**
     * A special method to force the rendering of this component.  This is a workaround
     * because for some unknown reason, AngularJS2 change detector does not detect the
     * change of the images Array.
     */
    forceRender() {
        this.zone.run(() &#x3D;&gt; {
        });
    }


    ngOnChanges(changes: SimpleChanges): void {
        console.log(&#x27;fileuploader onChanges&#x27;, changes[&#x27;images&#x27;]);
        // if (changes[&#x27;images&#x27;] &amp;&amp; (changes[&#x27;images&#x27;].currentValue.length &#x3D;&#x3D;&#x3D; 0 &amp;&amp;
        //   changes[&#x27;images&#x27;].previousValue.length &gt; 0)) {
        if (changes[&#x27;images&#x27;] &amp;&amp; (
            changes[&#x27;images&#x27;].currentValue.length &#x3D;&#x3D;&#x3D; 0
            &amp;&amp; changes[&#x27;images&#x27;].previousValue
            &amp;&amp; changes[&#x27;images&#x27;].previousValue.length &gt; 0)
        ) {
            this.noIdImage &#x3D; true;
        } else {
            this.noIdImage &#x3D; false;
        }
    }

    /*
     System processing steps

     1. User clicks browse or drag-n-drops an file
     2. For browse case, the browser is told to only accept mime type image/*, .JPG, .GIF, .PNG, etc,
     however user can override and for drag-n-drop we don&#x27;t can&#x27;t impose this filter
     4. Using the HTML5 File API, we open a handle on the file
     5. Read the filename for later display to the user
     6. Create a hidden Image element in the browser&#x27;s DOM
     7. Read the file&#x27;s bytes as a DataUrl and copy them into the Image element
     8. Wait until the Image finishes loading the image
     9. Read the image element&#x27;s natural width and height
     10. Pass the File handle into a HTML5 Canvas lib (we need the XIFF headers to auto rotate, XIFF headers are not available in DataUrl)
     11. The Canvas errors because it&#x27;s a wrong type, e.g., TIFF, we abort and notify user
     12. Instruct the Canvas lib to keep resizing the image if it exceeds a maximum width or height,
     extract meta data, and auto-orient based on XIFF metadata.  It uses a &quot;contain&quot; operation which retains
     it&#x27;s width to height pixel ratio.
     13. Call a function on the Canvas element to turn the Canvas into a JPEG of quality 50%.
     14. Once in a Blob with get the blob size in bytes and a human friendly display size
     15. In order to more easily manage the image, we convert the Blob to a DataUrl again.
     16. Pass the DataUrl into a hash algorithm to create an identifier and to check if the image has already been uploaded
     17. Next we check the final size of the image to ensure it&#x27;s not to small in resolution
     (arguably this could&#x27;ve been done earlier), if too small we notify user
     18. Finally, the image is saved into the user&#x27;s ongoing EA/PA application including localstorage
     19. The image is displayed to user as a thumbnail

     */

    ngOnInit(): void {


        const dragOverStream &#x3D;
            fromEvent&lt;DragEvent&gt;(this.dropZone.nativeElement, &#x27;dragover&#x27;);

        /**
         * Must cancel the dragover event in order for the drop event to work.
         */
        dragOverStream.pipe(map(evt &#x3D;&gt; {
            return event;
        })).subscribe(evt &#x3D;&gt; {
            // console.log(&#x27;Cancel dragover event.&#x27;);
            evt.preventDefault();
        });

        const dropStream &#x3D; fromEvent&lt;DragEvent&gt;(this.dropZone.nativeElement, &#x27;drop&#x27;);
        const filesArrayFromDrop &#x3D; dropStream.pipe(
            map(
                function (event) {
                    event.preventDefault();
                    return event.dataTransfer.files;
                }
            ));

        const browseFileStream &#x3D; fromEvent&lt;Event&gt;(this.browseFileRef.nativeElement, &#x27;change&#x27;);
        // const captureFileStream &#x3D; fromEvent&lt;Event&gt;(this.captureFileRef.nativeElement, &#x27;change&#x27;);

        merge(merge(browseFileStream).pipe(
            map(
                (event) &#x3D;&gt; {
                    event.preventDefault();
                    return event.target[&#x27;files&#x27;];

                }
            )),
            filesArrayFromDrop).pipe(
                filter(files &#x3D;&gt; {
                    console.log(&#x27;files&#x27;);
                    return !!files &amp;&amp; files.length &amp;&amp; files.length &gt; 0;
                }),
                flatMap(
                    (fileList: FileList) &#x3D;&gt; {

                        return this.observableFromFiles(fileList, new CommonImageScaleFactorsImpl(1, 1));
                    }
                ),
                filter(
                    (mspImage: CommonImage) &#x3D;&gt; {

                        const imageExists &#x3D; FileUploaderComponent.checkImageExists(mspImage, this.images);
                        if (imageExists) {
                            this.handleError(CommonImageError.AlreadyExists, mspImage);
                            this.resetInputFields();
                        }
                        return !imageExists;
                    }
                ),
                // TODO - Is this necessary? Can likely be removed as it&#x27;s exactly identical to the preceding.
                filter((mspImage: CommonImage) &#x3D;&gt; {

                    const imageExists &#x3D; FileUploaderComponent.checkImageExists(mspImage, this.images);
                        if (imageExists) {
                            this.handleError(CommonImageError.AlreadyExists, mspImage);
                            this.resetInputFields();
                        }
                        return !imageExists;
                    }
                ),
                filter((mspImage: CommonImage) &#x3D;&gt; {

                    const imageSizeOk &#x3D; this.checkImageDimensions(mspImage);
                        if (!imageSizeOk) {
                            this.handleError(CommonImageError.TooSmall, mspImage);
                            this.resetInputFields();
                        }
                        return imageSizeOk;
                    }
                )
            ).subscribe(
            (file: CommonImage) &#x3D;&gt; {

                this.handleImageFile(file);
                this.resetInputFields();
            },

            (error) &#x3D;&gt; {
                console.log(&#x27;Error in loading image: %o&#x27;, error);

                /**
                 * Handle the error if the image is gigantic that after
                 * 100 times of scaling down by 30% on each step, the image
                 * is still over 1 MB.
                 */
                if (error.errorCode) {
                    if (CommonImageError.TooBig &#x3D;&#x3D;&#x3D; error.errorCode) {
                        this.handleError(CommonImageError.TooBig, error.image);
                    } else if (CommonImageError.CannotOpen &#x3D;&#x3D;&#x3D; error.errorCode) {
                        if (!error.image) {
                            error.image &#x3D; new CommonImage();
                            if (error.rawImageFile) {
                                error.image.name &#x3D; error.rawImageFile.name;
                            }
                        }
                        this.handleError(CommonImageError.CannotOpen, error.image);
                    } else if (CommonImageError.CannotOpenPDF &#x3D;&#x3D;&#x3D; error.errorCode) {
                        this.handleError(CommonImageError.CannotOpenPDF, error.image, error.errorDescription);
                    } else {
                        throw error;
                    }
                }


            },
            () &#x3D;&gt; {
                console.log(&#x27;completed loading image&#x27;);
            }
        );
    }

    test(var1) {
        console.log(var1);
    }

    ngAfterContentInit() {

        const imagePlaceholderEnterKeyStream &#x3D; merge(
            fromEvent&lt;Event&gt;(this.imagePlaceholderRef.nativeElement, &#x27;keyup&#x27;),
            fromEvent&lt;Event&gt;(this.selectFileLabelRef.nativeElement, &#x27;keyup&#x27;),
            // fromEvent&lt;Event&gt;(this.uploadInstructionRef.nativeElement, &#x27;keyup&#x27;)
        ).pipe(filter((evt: KeyboardEvent) &#x3D;&gt; evt.key &#x3D;&#x3D;&#x3D; &#x27;Enter&#x27;));

        merge(
            fromEvent&lt;Event&gt;(this.imagePlaceholderRef.nativeElement, &#x27;click&#x27;),
            // fromEvent&lt;Event&gt;(this.uploadInstructionRef.nativeElement, &#x27;click&#x27;),
            imagePlaceholderEnterKeyStream
        ).pipe(
            map((event) &#x3D;&gt; {
                event.preventDefault();
                return event;
            })
        ).subscribe( (event) &#x3D;&gt; { this.browseFileRef.nativeElement.click(); });
    }

    /**
     * Solve size in this equation: size * 0.8to-the-power-of30 &lt; 1MB, size
     * will be the max image size this application can accept and scale down
     * to under 1MB. In this case: size &lt; 807 MB
     *
     * 30 is the number of retries. the value for maxRetry passed to retryStrategy
     * function.
     *
     * If: size * 0.8to-the-power-of40 &lt; 1MB, then size &lt; 1262 MB.
     *
     * Note: 0.8 is the self.appConstants.images.reductionScaleFactor defined in global.js
     *
     *
     * @param file
     * @param scaleFactors
     */
    observableFromFiles(fileList: FileList, scaleFactors: CommonImageScaleFactors) {
        /** Previously this was set in appConstants, but that&#x27;s removed from the common lib. */
        const reductionScaleFactor &#x3D; 0.8;

        console.log(&#x27;obserablveFromFiles&#x27;);

        // Init
        const self &#x3D; this;
    //    let  pageNumber &#x3D; Math.max(...self.images.concat( self.application.getAllImages()).map(function(o) {return o.attachmentOrder; }), 0) + 1 ;
       let pageNumber &#x3D; Math.max(...self.images.map(function(o) {return o.attachmentOrder; }), 0) + 1 ;

        // Create our observer
        const fileObservable &#x3D; Observable.create((observer: Observer&lt;CommonImage&gt;) &#x3D;&gt; {
            const mspImages &#x3D; [];
            scaleFactors &#x3D; scaleFactors.scaleDown(reductionScaleFactor);
            for (let fileIndex &#x3D; 0; fileIndex &lt; fileList.length; fileIndex++) {
                const file &#x3D; fileList[fileIndex];
                console.log(&#x27;Start processing file &#x27; + fileIndex + &#x27; of &#x27; + fileList.length + &#x27; %s of size %s bytes %s type&#x27;, file.name, file.size, file.type);


                /* Previously set in appConstants */
                const pdfScaleFactor &#x3D; 2.0;

                // let mspImage: MspImage &#x3D; new MspImage();
                // let reader: FileReader &#x3D; new FileReader();

                // // Copy file properties
                // mspImage.name &#x3D; file.name;
                if (file.type &#x3D;&#x3D;&#x3D; &#x27;application/pdf&#x27;) {
                    // this.logService.log({name: file.name + &#x27; Received in Upload&#x27;,
                    //     UUID: self.dataService.getMspUuid()}, &#x27;File_Upload&#x27;);

                    /**
                     *  Page number logic :
                     *      Images - Assign current page number whichever is available..so get the current page number , pass it to call back [reserve it] and increment
                     *      PDF    -  we dont know how many pages..so cant get current number and keep it since it can be multiple pages... so start assigning later point
                     *      when PDF is totally read..
                     *
                     *  */

                    this.readPDF(file, pdfScaleFactor, (images: HTMLImageElement[] , pdfFile: File) &#x3D;&gt; {


                        // this.logService.log({name: file.name + &#x27;is successfully split into &#x27; + images.length + &#x27; images&#x27;,
                            // UUID: self.dataService.getMspUuid()}, &#x27;File_Upload&#x27;);

                        images.map((image, index) &#x3D;&gt; {
                            image.name &#x3D; pdfFile.name;
                            this.resizeImage( image, self, scaleFactors, observer, pageNumber , true); // index starts from zero
                            pageNumber &#x3D; pageNumber + 1  ;
                        });
                    }, (error: string) &#x3D;&gt; {
                        console.log(&#x27;error&#x27; + JSON.stringify(error));
                        const imageReadError: CommonImageProcessingError &#x3D;
                            new CommonImageProcessingError(CommonImageError.CannotOpenPDF, error);
                        observer.error(imageReadError);
                    });
                } else {
                    // Load image into img element to read natural height and width
                    this.readImage(file, pageNumber , (image: HTMLImageElement , imageFile: File , nextPageNumber: number)  &#x3D;&gt; {
                            image.id &#x3D; imageFile.name; // .name deprecated, changed image.name to image.id
                            this.resizeImage(image, self, scaleFactors, observer , nextPageNumber );
                        },

                        // can be ignored for bug, the log line is never called
                        (error: CommonImageProcessingError) &#x3D;&gt; {
                            console.log(&#x27;error&#x27; + JSON.stringify(error));
                            observer.error(error);
                        });
                    pageNumber &#x3D; pageNumber + 1  ;
                }
            }

            // retryWhen is potential issue!
        }).pipe(retryWhen(this.retryStrategy(32)));
        return fileObservable;
    }


    private resizeImage( image: HTMLImageElement, self: this, scaleFactors: CommonImageScaleFactors, observer: Observer&lt;CommonImage&gt;, pageNumber: number &#x3D; 0 , isPdf: boolean &#x3D; false) {
// While it&#x27;s still in an image, get it&#x27;s height and width
        const mspImage: CommonImage &#x3D; new CommonImage();
        const reader: FileReader &#x3D; new FileReader();
        console.log(&#x27;image.name:&#x27; + image.id); // .name deprecated, changed image.name to image.id
        // Copy file properties
        mspImage.name &#x3D; image.id ;
        if (isPdf) {
            mspImage.name &#x3D; image.name + &#x27;-page&#x27; + pageNumber;  // Just give name to pdf
        }
        // Temporary so we don&#x27;t have duplicate file names. TODO: Improve.
        //   mspImage.name +&#x3D; Math.ceil(Math.random()*100);
        mspImage.attachmentOrder &#x3D; pageNumber ;


        mspImage.naturalWidth &#x3D; image.naturalWidth;
        mspImage.naturalHeight &#x3D; image.naturalHeight;

        console.log(&#x60;image file natural height and width:
            ${mspImage.naturalHeight} x ${mspImage.naturalWidth}&#x60;);

        // Canvas will force the change to a JPEG
        mspImage.contentType &#x3D; &#x27;image/jpeg&#x27;; // previously in appConstants

        // Scale the image by loading into a canvas

        console.log(&#x27;Start scaling down the image using blueimp-load-image lib: &#x27;);
        const scaledImage &#x3D; loadImage(
            image.src, // NOTE: we pass the File ref here again even though its already read because we need the XIFF metadata
            function (canvas: HTMLCanvasElement, metadata: any) {

                // Canvas may be an Event when errors happens
                if (canvas instanceof Event) {
                    self.handleError(CommonImageError.WrongType, mspImage);
                    self.resetInputFields();
                    return;
                }
                // Convert to blob to get size
                canvas.toBlob((blob: Blob) &#x3D;&gt; {
                        // Copy the blob properties
                        mspImage.size &#x3D; blob.size;

                        // log image info (but only for the first time before any scaling)
                        // if (s

                        const fileName &#x3D; mspImage.name;
                        const nBytes &#x3D; mspImage.size;
                        let fileSize &#x3D; &#x27;&#x27;;
                        let fileSizeUnit &#x3D; &#x27;&#x27;;
                        let sOutput: string &#x3D; nBytes + &#x27; bytes&#x27;;
                        // optional code for multiples approximation
                        for (let aMultiples &#x3D; [&#x27;KiB&#x27;, &#x27;MiB&#x27;, &#x27;GiB&#x27;, &#x27;TiB&#x27;, &#x27;PiB&#x27;, &#x27;EiB&#x27;, &#x27;ZiB&#x27;, &#x27;YiB&#x27;],
                                 nMultiple &#x3D; 0, nApprox &#x3D; nBytes / 1024; nApprox &gt; 1; nApprox /&#x3D; 1024, nMultiple++) {

                            sOutput &#x3D; nApprox.toFixed(3) + &#x27; &#x27; + aMultiples[nMultiple] + &#x27; (&#x27; + nBytes + &#x27; bytes)&#x27;;
                            fileSize &#x3D; nApprox.toFixed(0);
                            fileSizeUnit &#x3D; aMultiples[nMultiple];
                            mspImage.sizeUnit &#x3D; fileSizeUnit;
                        }

                        console.log(&#x60;File ${fileName} is scaled down to: ${sOutput}&#x60;);
                        mspImage.sizeTxt &#x3D; sOutput;

                        // call reader with new transformed image
                        reader.onload &#x3D; function (evt: any) {

                            mspImage.fileContent &#x3D; evt.target.result;
                            mspImage.id &#x3D; sha1(mspImage.fileContent);

                            // keep scaling down the image until the image size is
                            // under max image size

                            /** previously in appConstants */
                            const maxSizeBytes &#x3D; 1048576;
                            if (mspImage.size &gt; maxSizeBytes) {

                                console.log(&#x27;File size after scaling down: %d, max file size allowed: %d&#x27;,
                                    mspImage.size, maxSizeBytes);

                                const imageTooBigError: CommonImageProcessingError &#x3D;
                                    new CommonImageProcessingError(CommonImageError.TooBig);

                                imageTooBigError.maxSizeAllowed &#x3D; maxSizeBytes;
                                imageTooBigError.commonImage &#x3D; mspImage;

                                observer.error(imageTooBigError);
                            } else {
                                // log image info
                                //   self.logImageInfo(&quot;msp_file-uploader_after_resize_attributes&quot;, self.dataService.getMspUuid(), mspImage);
                                observer.next(mspImage);
                            }
                        };
                        reader.readAsDataURL(blob);
                    },

                    // What mime type to make the blob as and jpeg quality
                    &#x27;image/jpeg&#x27;, 0.5);
            },
            {
                maxWidth: 2600 * scaleFactors.widthFactor,
                maxHeight: 3300 * scaleFactors.heightFactor,
                contain: true,
                canvas: true,
                meta: true,
                orientation: true
            }
        );
    }

    /**
     * Max retry scaling down for maxRetry times.
     */
    retryStrategy(maxRetry: number) {
        return function (errors: Observable&lt;CommonImageProcessingError&gt;) {

            /**Done: COMPLETE THIS! For some reason can&#x27;t get scan() to work, types always malformed.*/

            // return errors.pipe(
            //     // scan((acc, curr) &#x3D;&gt; {acc + curr}, 0)
            //     scan((acc, error, index) &#x3D;&gt; {
            //         return acc + error;
            //     }, 0)
            // );

            // Done: Unsure if we have to re-implement this line. It causes errors, but simply removing it may not be appropriate.
            // NOTE: RxJS-compat might be saving us here and &quot;fixing&quot; the errors. See if errors return when we remove rxjs-compat.
            // return errors.pipe(scan((acc, curr) &#x3D;&gt; acc + curr, 0))


            return errors.pipe(scan(
                // return errors.pipe(
                (acc, error: any, index) &#x3D;&gt; {
                    // console.log(&#x27;Error encountered: %o&#x27;, error);;

                    /**
                     * If the error is about file too big and we have not reach max retry
                     * yet, theyt keep going to scaling down.
                     */
                    if (acc &lt; maxRetry &amp;&amp; error.errorCode &#x3D;&#x3D;&#x3D; CommonImageError.TooBig) {
                        // console.log(&#x27;Progressively scaling down the image, step %d.&#x27;, index);
                        return acc + 1;
                    } else {
                        /**
                         * For either conditions terminate the retry, propogate
                         * the error.
                         *
                         * 1. errors such as CannotRead or any other unknown errors
                         * not listed in MspImageError enum
                         * 2. Exceeded maxRetry
                         *
                         */
                        console.log(&#x27;Re-throw this image process error: %o&#x27;, error);
                        throw error;
                    }
                }, 0
            ), delay(2));
        };
    }

    private readImage(imageFile: File, nextPageNumber: number ,
                      callback: (image: HTMLImageElement, imageFile: File , nextPageNumber: number) &#x3D;&gt; void,
                      invalidImageHanlder: (error: CommonImageProcessingError) &#x3D;&gt; void) {
        const reader &#x3D; new FileReader();

        reader.onload &#x3D; function (progressEvt: ProgressEvent) {

            console.log(&#x27;loading image into an img tag: %o&#x27;, progressEvt);
            // Load into an image element
            const imgEl: HTMLImageElement &#x3D; document.createElement(&#x27;img&#x27;);
            imgEl.src &#x3D; (reader.result as string);

            // Wait for onload so all properties are populated
            imgEl.onload &#x3D; (args) &#x3D;&gt; {
                console.log(&#x27;Completed image loading into an img tag: %o&#x27;, args);
                return callback(imgEl, imageFile, nextPageNumber);
            };

            imgEl.onerror &#x3D;
                (args) &#x3D;&gt; {

                    // log it to the console
                    console.log(&#x27;This image cannot be opened/read, it is probably an invalid image. %o&#x27;, args);

                    // throw new Error(&#x27;This image cannot be opened/read&#x27;);
                    const imageReadError: CommonImageProcessingError &#x3D;
                        new CommonImageProcessingError(CommonImageError.CannotOpen);

                    imageReadError.rawImageFile &#x3D; imageFile;

                    return invalidImageHanlder(imageReadError);
                };
        };

        reader.readAsDataURL(imageFile);
    }

    private readPDF(pdfFile: File, pdfScaleFactor: number,
                    callback: (image: HTMLImageElement[], pdfFile: File) &#x3D;&gt; void, error: (errorReason: any) &#x3D;&gt; void) {

        PDFJS.disableWorker &#x3D; true;
        PDFJS.disableStream &#x3D; true;

        const reader &#x3D; new FileReader();
        let currentPage &#x3D; 1;
        const canvas &#x3D; document.createElement(&#x27;canvas&#x27;);
        const imgElsArray: HTMLImageElement[] &#x3D; [];
        const ctx &#x3D; canvas.getContext(&#x27;2d&#x27;);
        reader.onload &#x3D; function (progressEvt: ProgressEvent) {

            const docInitParams &#x3D; {data: reader.result};
            // TODO - The &#x27;as any&#x27; was added when porting to common library from MSP
            PDFJS.getDocument((docInitParams as any)).then((pdfdoc) &#x3D;&gt; {
                const numPages &#x3D; pdfdoc.numPages;
                if (currentPage &lt;&#x3D; pdfdoc.numPages) { getPage(); }

                function getPage() {
                    pdfdoc.getPage(currentPage).then(function (page) {
                        const viewport &#x3D; page.getViewport(pdfScaleFactor);

                        canvas.height &#x3D; viewport.height;
                        canvas.width &#x3D; viewport.width;

                        const renderContext &#x3D; {
                            canvasContext: ctx,
                            viewport: viewport
                        };

                        page.render(renderContext).then(function () {
                            const imgEl: HTMLImageElement &#x3D; document.createElement(&#x27;img&#x27;);
                            imgEl.src &#x3D; canvas.toDataURL();
                            imgElsArray.push(imgEl);
                            if (currentPage &lt; numPages) {
                                currentPage++;
                                getPage();
                            } else {
                                callback(imgElsArray, pdfFile);
                            }

                        });
                    }, function (errorReason: string) {
                        error(errorReason);

                    });
                }
            }, function (errorReason: string) {
                error(errorReason);
            });

        };
        reader.readAsArrayBuffer(pdfFile);

    }


    /**
     * Non reversible image filter to take an existing canvas and make it gray scale
     * @param canvas
     */
    makeGrayScale(canvas: HTMLCanvasElement): void {
        const context &#x3D; canvas.getContext(&#x27;2d&#x27;);

        const imageData &#x3D; context.getImageData(0, 0, canvas.width, canvas.height);
        const data &#x3D; imageData.data;

        for (let i &#x3D; 0; i &lt; data.length; i +&#x3D; 4) {
            const brightness &#x3D; 0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2];
            // red
            data[i] &#x3D; brightness;
            // green
            data[i + 1] &#x3D; brightness;
            // blue
            data[i + 2] &#x3D; brightness;
        }

        // overwrite original image
        context.putImageData(imageData, 0, 0);
    }


    handleImageFile(mspImage: CommonImage) {
        console.log(&#x27;image size (bytes) after compression: &#x27; + mspImage.size);
        if (this.images.length &gt;&#x3D; 50) {

            // log it
            // this.logImageInfo(&#x27;msp_file-uploader_error&#x27;, this.dataService.getMspUuid(),
            //     mspImage, &#x60;Number of image files exceeds max of ${50}&#x60;);

            // log to console
            console.log(&#x60;Max number of image file you can upload is ${50}.
      This file ${mspImage.name} was not uploaded.&#x60;);
        } else {
            this.images.push(mspImage);
            this.imagesChange.emit(this.images);
            this.showError &#x3D; false;
            this.noIdImage &#x3D; false;
        }
    }

    handleError(error: CommonImageError, mspImage: CommonImage, errorDescription?: string) {

        if (!mspImage) {
            mspImage &#x3D; new CommonImage();
        }
        // just add the error to mspImage
        mspImage.error &#x3D; error;

        // log the error
        if (error !&#x3D;&#x3D; CommonImageError.PDFnotSupported) {
            // this.logImageInfo(&#x27;msp_file-uploader_error&#x27;, this.dataService.getMspUuid(), mspImage,
            //     &#x27;  mspImageFile: &#x27; + mspImage.name + &#x27;  mspErrorNum: &#x27; + error + &#x27;  mspError: &#x27; +
            //     error + &#x27;-&#x27; + errorDescription);
        }

        // console.log(&quot;error with image: &quot;, mspImage);
        this.errorDocument.emit(mspImage);
    }

    /**
     * Reset input fields so that user can delete a file and
     * immediately upload that file again.
     */
    resetInputFields() {
        // let brosweFileInputElement &#x3D; this.browseFileRef.nativeElement;
        // let captureFileInputElement &#x3D; this.captureFileRef.nativeElement;
        this.browseFileRef.nativeElement.value &#x3D; &#x27;&#x27;;
        // this.captureFileRef.nativeElement.value &#x3D; &#x27;&#x27;;
    }

    deleteImage(mspImage: CommonImage) {
        this.resetInputFields();
        this.images &#x3D; this.images.filter(x &#x3D;&gt; x.uuid !&#x3D;&#x3D; mspImage.uuid);
        this.imagesChange.emit(this.images);

        // If there are no images yet, we have to reset the input so it triggers &#x27;required&#x27;.
        if ( this.required &amp;&amp; this.images.length &lt;&#x3D; 0 ) {
            console.log(&#x27;No images, resetting input&#x27;);
            // this.fileControl.value &#x3D; &#x27;&#x27;;
            this.fileControl.setErrors({&#x27;required&#x27;: true});
        }
    }

    /**
     * Log image attributes
     * @param mspImage
     */
    private logImageInfo(title: string, applicationId: string, mspImage: CommonImage, additionalInfo?: string) {

        // TODO!
        // // create log entry
        // const log: LogEntry &#x3D; new LogEntry();
        // log.applicationId &#x3D; applicationId;
        // const now &#x3D; moment();
        // log.mspTimestamp &#x3D; now.toISOString();
        // log.applicationPhase &#x3D; title + &#x27;:  mspImageId: &#x27; + mspImage.id
        //     + &#x27;  mspImageUuid: &#x27; + mspImage.uuid
        //     + &#x27;  mspImageSize: &#x27; + mspImage.size
        //     + &#x27;  mspImageWidth: &#x27; + mspImage.naturalWidth
        //     + &#x27;  mspImageHeight: &#x27; + mspImage.naturalHeight
        //     + &#x27;  mspImageContentType: &#x27; + mspImage.contentType
        //     + (additionalInfo ? &#x27;  &#x27; + additionalInfo : &#x27;&#x27;);

        // // send it while subscribing to response
        // this.logService.logIt(log, title).subscribe(
        //     (response) &#x3D;&gt; {
        //         // console.log(&#x27;log rest service response: &#x27;);
        //         // console.log(response);
        //     },
        //     (error) &#x3D;&gt; {
        //         console.log(&#x27;HTTP error response from logging service: &#x27;);
        //         console.log(error);
        //     },
        //     () &#x3D;&gt; {
        //         // console.log(&#x27;log rest service completed!&#x27;);
        //     }
        // );
    }



    /**
     * Return true if the image size is within range
     * @param file
     */
    checkImageDimensions(file: CommonImage): boolean {
        if (file.naturalHeight &lt; 0 ||
            file.naturalWidth &lt; 0 ) {
            return false;
        }
        return true;
    }

    isValid(): boolean {
        console.log(&#x27;isValid&#x27;, this.images);
        if (this.required) {
            return this.images &amp;&amp; this.images.length &gt; 0;
        }
        return true;
    }

}

</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;dropzone&quot; #dropZone [ngClass]&#x3D;&#x27;{&quot;has-error&quot;: fileControl?.touched &amp;&amp; fileControl?.errors?.required}&#x27;&gt;

  &lt;div class&#x3D;&quot;instruction-zone d-flex align-items-center flex-wrap flex-sm-nowrap flex-column flex-sm-row&quot;&gt;
    &lt;i class&#x3D;&quot;fa fa-cloud-upload fa-4x d-inline-block upload-icon&quot; aria-hidden&#x3D;&quot;true&quot; #imagePlaceholderRef tabindex&#x3D;&quot;0&quot;&gt;&lt;/i&gt;

    &lt;input type&#x3D;&quot;file&quot; id&#x3D;&quot;fileUploadBrowse-{{id}}&quot; #browseFileRef ngModel accept&#x3D;&quot;image/*,application/pdf&quot; style&#x3D;&quot;display:none;&quot;
            tabindex&#x3D;&quot;0&quot; multiple name&#x3D;&#x27;fileUploadBrowse-{{id}}&#x27; [required]&#x3D;&#x27;required &amp;&amp; images.length &#x3D;&#x3D;&#x3D; 0&#x27;
            autocomplete&#x3D;&quot;off&quot;/&gt;
    &lt;label for&#x3D;&quot;fileUploadBrowse-{{id}}&quot; class&#x3D;&quot;file-upload-label d-inline-block ml-3&quot; #selectFileLabel tabindex&#x3D;&quot;0&quot;&gt;
      &lt;span class&#x3D;&#x27;h2 color-body&#x27;&gt;Select a file&lt;/span&gt;
      &lt;span class&#x3D;&#x27;d-block description&#x27;&gt;{{ instructionText }}&lt;/span&gt;
    &lt;/label&gt;

    &lt;!-- TODO - STYLE/ENABLE/TEST THE BELOW FOR MOBILE ONLY! Also need to test on a phone after deploying to OpenShift--&gt;
    &lt;!-- &lt;span class&#x3D;&quot;d-block d-sm-none&quot;&gt;or&lt;/span&gt;
    &lt;input type&#x3D;&quot;file&quot; id&#x3D;&quot;fileUploadUseCamera-{{id}}&quot; #captureFileRef accept&#x3D;&quot;image/*,application/pdf&quot; capture&#x3D;&quot;camera&quot;
            tabindex&#x3D;&quot;0&quot; multiple /&gt;
    &lt;span class&#x3D;&quot;fa fa-camera d-block d-sm-none fa-4x&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/span&gt;
    &lt;label for&#x3D;&quot;fileUploadUseCamera-{{id}}&quot; class&#x3D;&quot;file-upload-label description d-block d-sm-none&quot; tabindex&#x3D;&quot;0&quot;&gt;
      take a photo
    &lt;/label&gt; --&gt;

  &lt;/div&gt;

  &lt;div *ngIf&#x3D;&quot;fileControl?.touched&quot; role&#x3D;&quot;alert&quot; class&#x3D;&#x27;error-container&#x27; aria-live&#x3D;&quot;assertive&quot;&gt;
    &lt;div class&#x3D;&quot;text-danger&quot; *ngIf&#x3D;&quot;fileControl?.errors?.required&quot;&gt;
      {{errorMessages.required}}
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class&#x3D;&quot;preview-zone&quot;&gt;
    &lt;div *ngFor&#x3D;&quot;let mspImage of images&quot; class&#x3D;&quot;preview-item&quot;&gt;
      &lt;common-thumbnail [imageObject]&#x3D;&quot;mspImage&quot; (deleteImage)&#x3D;&quot;deleteImage($event)&quot;&gt;
      &lt;/common-thumbnail&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- The sole purpose of this element is to maintain the drop zone to an
        large size to display on screen.
      --&gt;
  &lt;div class&#x3D;&quot;preview-zone&quot;&gt;
    &lt;div class&#x3D;&quot;preview-item&quot;&gt;
    &lt;/div&gt;
  &lt;/div&gt;

&lt;/div&gt;

&lt;!-- This hidden canvas is used to transform / resize images --&gt;
&lt;canvas #canvas style&#x3D;&quot;display:none;&quot;&gt;

&lt;/canvas&gt;
</code></pre>
    </div>


    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="dropzone" #dropZone [ngClass]=\'{"has-error": fileControl?.touched && fileControl?.errors?.required}\'>  <div class="instruction-zone d-flex align-items-center flex-wrap flex-sm-nowrap flex-column flex-sm-row">    <i class="fa fa-cloud-upload fa-4x d-inline-block upload-icon" aria-hidden="true" #imagePlaceholderRef tabindex="0"></i>    <input type="file" id="fileUploadBrowse-{{id}}" #browseFileRef ngModel accept="image/*,application/pdf" style="display:none;"            tabindex="0" multiple name=\'fileUploadBrowse-{{id}}\' [required]=\'required && images.length === 0\'            autocomplete="off"/>    <label for="fileUploadBrowse-{{id}}" class="file-upload-label d-inline-block ml-3" #selectFileLabel tabindex="0">      <span class=\'h2 color-body\'>Select a file</span>      <span class=\'d-block description\'>{{ instructionText }}</span>    </label>    <!-- TODO - STYLE/ENABLE/TEST THE BELOW FOR MOBILE ONLY! Also need to test on a phone after deploying to OpenShift-->    <!-- <span class="d-block d-sm-none">or</span>    <input type="file" id="fileUploadUseCamera-{{id}}" #captureFileRef accept="image/*,application/pdf" capture="camera"            tabindex="0" multiple />    <span class="fa fa-camera d-block d-sm-none fa-4x" aria-hidden="true"></span>    <label for="fileUploadUseCamera-{{id}}" class="file-upload-label description d-block d-sm-none" tabindex="0">      take a photo    </label> -->  </div>  <div *ngIf="fileControl?.touched" role="alert" class=\'error-container\' aria-live="assertive">    <div class="text-danger" *ngIf="fileControl?.errors?.required">      {{errorMessages.required}}    </div>  </div>  <div class="preview-zone">    <div *ngFor="let mspImage of images" class="preview-item">      <common-thumbnail [imageObject]="mspImage" (deleteImage)="deleteImage($event)">      </common-thumbnail>    </div>  </div>  <!-- The sole purpose of this element is to maintain the drop zone to an        large size to display on screen.      -->  <div class="preview-zone">    <div class="preview-item">    </div>  </div></div><!-- This hidden canvas is used to transform / resize images --><canvas #canvas style="display:none;"></canvas></div>'
    var COMPONENTS = [{'name': 'AccordionCommonComponent', 'selector': 'common-accordion'},{'name': 'AddressComponent', 'selector': 'common-address'},{'name': 'ButtonComponent', 'selector': 'common-button'},{'name': 'ButtonGroupComponent', 'selector': 'common-button-group'},{'name': 'CaptchaComponent', 'selector': 'common-captcha'},{'name': 'CheckboxComponent', 'selector': 'common-checkbox'},{'name': 'CityComponent', 'selector': 'common-city'},{'name': 'ConsentModalComponent', 'selector': 'common-consent-modal'},{'name': 'CoreBreadcrumbComponent', 'selector': 'common-core-breadcrumb'},{'name': 'CountryComponent', 'selector': 'common-country'},{'name': 'DateComponent', 'selector': 'common-date'},{'name': 'DatepickerComponent', 'selector': 'common-datepicker'},{'name': 'DropdownComponent', 'selector': 'common-dropdown'},{'name': 'ErrorContainerComponent', 'selector': 'common-error-container'},{'name': 'FileUploaderComponent', 'selector': 'common-file-uploader'},{'name': 'FormActionBarComponent', 'selector': 'common-form-action-bar'},{'name': 'FormSubmitBarComponent', 'selector': 'common-form-submit-bar'},{'name': 'FullNameComponent', 'selector': 'common-full-name'},{'name': 'HeaderComponent', 'selector': 'common-header'},{'name': 'NameComponent', 'selector': 'common-name'},{'name': 'PageFrameworkComponent', 'selector': 'common-page-framework'},{'name': 'PageSectionComponent', 'selector': 'common-page-section'},{'name': 'PasswordComponent', 'selector': 'common-password'},{'name': 'PhnComponent', 'selector': 'common-phn'},{'name': 'PhoneNumberComponent', 'selector': 'common-phone-number'},{'name': 'PostalCodeComponent', 'selector': 'common-postal-code'},{'name': 'ProvinceComponent', 'selector': 'common-province'},{'name': 'RadioComponent', 'selector': 'common-radio'},{'name': 'SinComponent', 'selector': 'common-sin'},{'name': 'StreetComponent', 'selector': 'common-street'},{'name': 'ThumbnailComponent', 'selector': 'common-thumbnail'},{'name': 'ToggleComponent', 'selector': 'common-toggle'},{'name': 'WizardProgressBarComponent', 'selector': 'common-wizard-progress-bar'},{'name': 'XiconButtonComponent', 'selector': 'common-xicon-button'}];
    var DIRECTIVES = [{'name': 'DateFieldFormatDirective', 'selector': '[commonDateFieldFormat]'},{'name': 'DayValidationDirective', 'selector': '[commonDayValidation][ngModel]'},{'name': 'DuplicateCheckDirective', 'selector': '[commonDuplicateCheck]'},{'name': 'ValidateBcPostalDirective', 'selector': '[commonValidateBcPostal]'},{'name': 'ValidateNameDirective', 'selector': '[commonValidateName]'},{'name': 'ValidatePhnDirective', 'selector': '[commonValidatePhn]'},{'name': 'ValidateSinDirective', 'selector': '[commonValidateSin]'},{'name': 'YearValidateDirective', 'selector': '[commonYearValidate][ngModel]'}];
    var ACTUAL_COMPONENT = {'name': 'FileUploaderComponent'};
</script>
<script src="../js/tree.js"></script>














                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'FileUploaderComponent.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
