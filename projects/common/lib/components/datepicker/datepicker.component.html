<div>
    <label><span>{{labelText}}</span>
        <div class="input-group">
            
                <input class="form-control" placeholder="YYYY/MM/DD"
                ngx-mydatepicker name="datepicker-{{labelText}}-{{objectId}}"
                [(ngModel)]="model"
                [options]="datepickerOptions"
                #dp="ngx-mydatepicker"
                #dateEl='ngModel'
                (dateChanged)="onDateChanged($event)"
                [required]='required'
                [disabled]="disabled"/>

            <span class="input-group-append float-label-append">
                <button type="button" class="btn btn-default" (click)="dp.toggleCalendar()">
                    <i class="fa fa-calendar"></i>
                </button>
            </span>
        </div>
    </label>
</div>

<!-- InvalidDateFormat comes from ngxmydatepicker, so we have a little less control over it. -->
<div *ngIf="!disabled && dateEl.touched"
    role="alert"
    class='error-container'
    aria-live="assertive">
  <div class="text-danger"
       *ngIf="(dateEl?.errors?.required) && errorMessages?.required && !dateEl?.errors?.invalidDateFormat">
       {{errorMessages.required}}
  </div>
  <!-- ngx-mydatepicker has it's own errors and we can't easily add our own, so we have reduced error messages. -->
  <!-- <div class="text-danger"
      *ngIf="dateEl?.errors?.dayOutOfRange && errorMessages?.dayOutOfRange">
       {{errorMessages.dayOutOfRange}}
  </div>
  <div class="text-danger"
       *ngIf="dateEl?.errors?.yearDistantPast && errorMessages?.yearDistantPast">
       {{errorMessages.yearDistantPast}}
  </div>
  <div class="text-danger"
       *ngIf="dateEl?.errors?.yearDistantFuture && errorMessages?.yearDistantFuture">
       {{errorMessages.yearDistantFuture}}
  </div>
  <div class="text-danger"
        *ngIf="dateEl?.errors?.noPastDatesAllowed && errorMessages?.noPastDatesAllowed">
        {{errorMessages.noPastDatesAllowed}}
  </div>
  
  <div class="text-danger"
       *ngIf="dateEl?.errors?.noFutureDatesAllowed && errorMessages?.noFutureDatesAllowed">
       {{errorMessages.noFutureDatesAllowed}}
  </div> -->
  <div class="text-danger"
       *ngIf="(dateEl?.errors?.invalidValue || dateEl?.errors?.invalidDateFormat) && errorMessages?.invalidValue">
       {{errorMessages.invalidValue}}
  </div>
</div>