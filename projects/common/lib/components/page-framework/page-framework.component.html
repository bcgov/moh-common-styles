<div class="row" [ngSwitch]="layout">

  <ng-container *ngSwitchCase="'default'">
    <div class="col-md-8">
      <div class="px-lg-4 px-md-3 py-3">
        <ng-container *ngTemplateOutlet="content"></ng-container>
      </div>
    </div>
    <div class="col-md-4">
      <div class='pr-lg-5 pr-md-4 py-2'>
        <ng-container *ngTemplateOutlet="aside"></ng-container>
      </div>
    </div>
  </ng-container>


  <ng-container *ngSwitchCase="'double'">
    <div class="col-md-6">
      <div class="px-lg-5 px-md-3 py-3">
        <ng-container *ngTemplateOutlet="content"></ng-container>
      </div>
    </div>
    <div class="col-md-6">
      <div class='px-lg-5 px-md-3 py-3'>
        <ng-container *ngTemplateOutlet="aside"></ng-container>
      </div>
    </div>
  </ng-container>

    <ng-container *ngSwitchCase="'single'">
      <div class="col-md-8 offset-lg-2">
        <div class="px-lg-5 px-md-3 py-3">
          <ng-container *ngTemplateOutlet="content"></ng-container>
        </div>
      </div>
    </ng-container>

    <ng-container *ngSwitchCase="'blank'">
      <div class="col-sm-12">
        <div class="px-lg-5 px-md-3 py-3">
          <ng-container *ngTemplateOutlet="content"></ng-container>
        </div>
      </div>
    </ng-container>
</div>
<ng-container *ngTemplateOutlet="submit"></ng-container>


<!-- We use ng-template here to get around a bug with having multiple ng-contents in one template. By default, if there are duplicate ng-contents in a template Angular will select the very first one - even if latter ones are 'removed' by ngSwitch or ngIf.-->
<ng-template #content>
  <ng-content></ng-content>
</ng-template>

<ng-template #aside>
  <ng-content select='div[aside]'></ng-content>
  <!--To be removed as this element is inside the 'main' and aside is a landmark resulting in accessibility issue -->
  <ng-content select='aside'></ng-content>
</ng-template>

<ng-template #submit>
  <ng-content select='common-form-action-bar'></ng-content>
  <ng-content select='common-form-submit-bar'></ng-content>
</ng-template>
